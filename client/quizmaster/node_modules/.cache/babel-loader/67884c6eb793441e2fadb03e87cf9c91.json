{"ast":null,"code":"var _jsxFileName = \"/home/niels/Projects/school/quizzer/client/quizmaster/src/components/pages/Lobby.js\",\n    _s = $RefreshSig$();\n\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport ButtonPrimary from '../core/ButtonPrimary';\nimport SelectLanguage from '../core/category/SelectLanguage';\nimport LobbyList from '../core/lobby/LobbyList';\nimport SubTitle from '../core/SubTitle';\nimport axios from 'axios';\nimport { BASE_URL } from '../../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Lobby = () => {\n  _s();\n\n  const amount = useSelector(({\n    quiz\n  }) => quiz.teams).length;\n  const lobbyId = useSelector(({\n    quiz\n  }) => quiz.lobbyId);\n  const history = useHistory();\n  lobbyId === '' && history.push('/');\n\n  const handleNextStep = async () => {\n    await closeLobby();\n    await addRound();\n    history.push('/categories');\n  };\n\n  const closeLobby = async () => await axios.post(`${BASE_URL}/lobbies/${lobbyId}/close`);\n\n  const addRound = async () => await axios.post(`${BASE_URL}/lobbies/${lobbyId}/rounds`);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(SelectLanguage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), amount !== 1 ? /*#__PURE__*/_jsxDEV(SubTitle, {\n      children: [\"Er zitten momenteel \", amount, \" spelers in lobby \", lobbyId, \".\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(SubTitle, {\n      children: [\"Er zit momenteel \", amount, \" speler in lobby \", lobbyId, \".\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LobbyList, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), amount <= 1 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Om de quiz te starten moeten er minimaal twee personen meedoen.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n      onClick: handleNextStep,\n      disabled: amount <= 1,\n      children: \"Categorie\\xEBn selecteren\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Lobby, \"R8dQBca2WFBXhcyyaFq7O8KFbhE=\", false, function () {\n  return [useSelector, useSelector, useHistory];\n});\n\n_c = Lobby;\nexport default Lobby;\n\nvar _c;\n\n$RefreshReg$(_c, \"Lobby\");","map":{"version":3,"sources":["/home/niels/Projects/school/quizzer/client/quizmaster/src/components/pages/Lobby.js"],"names":["useSelector","useHistory","ButtonPrimary","SelectLanguage","LobbyList","SubTitle","axios","BASE_URL","Lobby","amount","quiz","teams","length","lobbyId","history","push","handleNextStep","closeLobby","addRound","post"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,aAA5B;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,aAAP,MAA0B,uBAA1B;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,WAAzB;;;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAClB,QAAMC,MAAM,GAAIT,WAAW,CAAC,CAAC;AAAEU,IAAAA;AAAF,GAAD,KAAcA,IAAI,CAACC,KAApB,CAAX,CAAsCC,MAAtD;AACA,QAAMC,OAAO,GAAGb,WAAW,CAAC,CAAC;AAAEU,IAAAA;AAAF,GAAD,KAAcA,IAAI,CAACG,OAApB,CAA3B;AACA,QAAMC,OAAO,GAAGb,UAAU,EAA1B;AAEAY,EAAAA,OAAO,KAAK,EAAZ,IAAkBC,OAAO,CAACC,IAAR,CAAa,GAAb,CAAlB;;AAEA,QAAMC,cAAc,GAAG,YAAY;AACjC,UAAMC,UAAU,EAAhB;AACA,UAAMC,QAAQ,EAAd;AACAJ,IAAAA,OAAO,CAACC,IAAR,CAAa,aAAb;AACD,GAJD;;AAMA,QAAME,UAAU,GAAG,YAAY,MAAMX,KAAK,CAACa,IAAN,CAAY,GAAEZ,QAAS,YAAWM,OAAQ,QAA1C,CAArC;;AACA,QAAMK,QAAQ,GAAK,YAAY,MAAMZ,KAAK,CAACa,IAAN,CAAY,GAAEZ,QAAS,YAAWM,OAAQ,SAA1C,CAArC;;AAEA,sBACE;AAAA,4BACE,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,YADF,EAGIJ,MAAM,KAAK,CAAX,gBACI,QAAC,QAAD;AAAA,yCAA+BA,MAA/B,wBAAyDI,OAAzD;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,gBAEI,QAAC,QAAD;AAAA,sCAA4BJ,MAA5B,uBAAqDI,OAArD;AAAA;AAAA;AAAA;AAAA;AAAA,YALR,eAOE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,YAPF,EAQGJ,MAAM,IAAI,CAAV,iBAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARlB,eASE,QAAC,aAAD;AAAe,MAAA,OAAO,EAAEO,cAAxB;AAAwC,MAAA,QAAQ,EAAEP,MAAM,IAAI,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YATF;AAAA,kBADF;AAaD,CA7BD;;GAAMD,K;UACYR,W,EACAA,W,EACAC,U;;;KAHZO,K;AA+BN,eAAeA,KAAf","sourcesContent":["import { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport ButtonPrimary from '../core/ButtonPrimary';\nimport SelectLanguage from '../core/category/SelectLanguage';\nimport LobbyList from '../core/lobby/LobbyList';\nimport SubTitle from '../core/SubTitle';\nimport axios from 'axios';\nimport { BASE_URL } from '../../api';\n\nconst Lobby = () => {\n  const amount  = useSelector(({ quiz }) => quiz.teams).length;\n  const lobbyId = useSelector(({ quiz }) => quiz.lobbyId);\n  const history = useHistory();\n\n  lobbyId === '' && history.push('/');\n\n  const handleNextStep = async () => {\n    await closeLobby();\n    await addRound();\n    history.push('/categories');\n  };\n\n  const closeLobby = async () => await axios.post(`${BASE_URL}/lobbies/${lobbyId}/close`);\n  const addRound   = async () => await axios.post(`${BASE_URL}/lobbies/${lobbyId}/rounds`);\n\n  return (\n    <>\n      <SelectLanguage />\n      {\n        amount !== 1\n          ? <SubTitle>Er zitten momenteel {amount} spelers in lobby {lobbyId}.</SubTitle>\n          : <SubTitle>Er zit momenteel {amount} speler in lobby {lobbyId}.</SubTitle>\n      }\n      <LobbyList />\n      {amount <= 1 && <p>Om de quiz te starten moeten er minimaal twee personen meedoen.</p>}\n      <ButtonPrimary onClick={handleNextStep} disabled={amount <= 1}>CategorieÃ«n selecteren</ButtonPrimary>\n    </>\n  );\n};\n\nexport default Lobby;"]},"metadata":{},"sourceType":"module"}