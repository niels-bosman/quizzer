{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst initialState = {\n  loading: false,\n  teamName: '',\n  lobbyId: '',\n  question: ''\n};\nexport const joinGame = createAsyncThunk('quiz/joinGameStatus', async ({\n  lobbyId,\n  teamName\n}) => {\n  const response = await axios.post(`${process.env.REACT_APP_API_URI}/lobbies/${lobbyId}/teams`, {\n    teamName: teamName\n  }).catch(error => {\n    return {\n      'data': error.response.data,\n      'status': error.response.status\n    };\n  });\n  return {\n    'data': response.data,\n    'status': response.status\n  };\n});\nexport const getQuestion = createAsyncThunk('quiz/getQuestionStatus', async ({\n  lobbyId\n}) => {\n  console.log(\"in getQuestion\");\n  const response = await axios.get(`${process.env.REACT_APP_API_URI}/lobbies/${lobbyId}/question`).catch(error => {\n    return {\n      'data': error.response.data,\n      'status': error.response.status\n    };\n  });\n  return {\n    'data': response.data,\n    'status': response.status\n  };\n});\nexport const slice = createSlice({\n  name: 'quiz',\n  initialState,\n  reducers: {\n    setLobbyId: (state, {\n      payload\n    }) => {\n      state.lobbyId = payload;\n    },\n    setTeamName: (state, {\n      payload\n    }) => {\n      state.teamName = payload;\n    }\n  },\n  extraReducers: {\n    [joinGame.pending]: state => {\n      state.loading = true;\n    },\n    [joinGame.fulfilled]: state => {\n      state.loading = false;\n    },\n    [joinGame.rejected]: state => {\n      state.loading = false;\n    },\n    [getQuestion.fulfilled]: (state, {\n      payload\n    }) => {\n      state.question = payload.data.question;\n    }\n  }\n});\nexport const {\n  setLobbyId,\n  setTeamName\n} = slice.actions;\nexport default slice.reducer;","map":{"version":3,"sources":["/home/niels/Projects/school/quizzer/client/team/src/reducers/quiz.js"],"names":["createAsyncThunk","createSlice","axios","initialState","loading","teamName","lobbyId","question","joinGame","response","post","process","env","REACT_APP_API_URI","catch","error","data","status","getQuestion","console","log","get","slice","name","reducers","setLobbyId","state","payload","setTeamName","extraReducers","pending","fulfilled","rejected","actions","reducer"],"mappings":"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","sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst initialState = {\n  loading:  false,\n  teamName: '',\n  lobbyId:  '',\n  question: ''\n};\n\n\nexport const joinGame = createAsyncThunk(\n  'quiz/joinGameStatus',\n  async ({ lobbyId, teamName }) => {\n    const response = await axios.post(`${process.env.REACT_APP_API_URI}/lobbies/${lobbyId}/teams`, {\n      teamName: teamName\n    }).catch((error) => {\n      return {'data': error.response.data, 'status': error.response.status};\n    });\n\n    return {'data': response.data, 'status': response.status};\n  }\n);\n\nexport const getQuestion = createAsyncThunk(\n  'quiz/getQuestionStatus',\n  async ({ lobbyId }) => {\n\n    console.log(\"in getQuestion\");\n\n    const response = await axios.get(`${process.env.REACT_APP_API_URI}/lobbies/${lobbyId}/question`)\n      .catch((error) => {\n      return {'data': error.response.data, 'status': error.response.status};\n    });\n\n    return {'data': response.data, 'status': response.status};\n  }\n);\n\nexport const slice = createSlice({\n  name:          'quiz',\n  initialState,\n  reducers:      {\n    setLobbyId:  (state, { payload }) => {\n      state.lobbyId = payload;\n    },\n    setTeamName: (state, { payload }) => {\n      state.teamName = payload;\n    }\n  },\n  extraReducers: {\n    [joinGame.pending]:   state => {\n      state.loading = true;\n    },\n    [joinGame.fulfilled]: state => {\n      state.loading = false;\n    },\n    [joinGame.rejected]:  state => {\n      state.loading = false;\n    },\n    [getQuestion.fulfilled]: (state, { payload }) => {\n      state.question = payload.data.question;\n    },\n  },\n});\n\nexport const { setLobbyId, setTeamName } = slice.actions;\n\nexport default slice.reducer;"]},"metadata":{},"sourceType":"module"}