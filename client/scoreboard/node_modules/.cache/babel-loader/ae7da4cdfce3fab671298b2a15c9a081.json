{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst initialState = {\n  lobbyId: '',\n  teams: [],\n  results: []\n};\nexport const fetchTeams = createAsyncThunk('category/fetchTeamsStatus', async (_, {\n  getState\n}) => {\n  var _getState;\n\n  const lobbyId = (_getState = getState()) === null || _getState === void 0 ? void 0 : _getState.quiz.lobbyId;\n  const teams = await axios.get(`${process.env.REACT_APP_API_URI}/lobbies/${lobbyId}/teams`);\n  return teams.data;\n});\nexport const fetchCorrectAnswers = createAsyncThunk('category/fetchCorrectAnswersStatus', async (_, {\n  getState\n}) => {\n  var _getState2;\n\n  const lobbyId = (_getState2 = getState()) === null || _getState2 === void 0 ? void 0 : _getState2.quiz.lobbyId;\n  const teams = await axios.get(`${process.env.REACT_APP_API_URI}/lobbies/${lobbyId}/round-score`);\n  return teams.data;\n});\nexport const fetchResults = createAsyncThunk('category/fetchResultsStatus', async (_, {\n  getState\n}) => {\n  var _getState3;\n\n  const lobbyId = (_getState3 = getState()) === null || _getState3 === void 0 ? void 0 : _getState3.quiz.lobbyId;\n  return [{\n    _id: 'Team een',\n    score: 24,\n    questionsCorrect: 11\n  }, {\n    _id: 'Team twee',\n    score: 18,\n    questionsCorrect: 7\n  }, {\n    _id: 'Team drie',\n    score: 16,\n    questionsCorrect: 6\n  }, {\n    _id: 'Team vier',\n    score: 13,\n    questionsCorrect: 5\n  }, {\n    _id: 'Team vijf',\n    score: 8,\n    questionsCorrect: 3\n  }];\n});\nexport const slice = createSlice({\n  name: 'quiz',\n  initialState,\n  extraReducers: {\n    [fetchTeams.fulfilled]: (state, {\n      payload\n    }) => {\n      state.teams = payload;\n    },\n    [fetchCorrectAnswers.fulfilled]: (state, {\n      payload\n    }) => {\n      state.roundScore = payload;\n    },\n    [fetchResults.fulfilled]: (state, {\n      payload\n    }) => {\n      state.results = payload;\n    }\n  },\n  reducers: {\n    setLobbyId: (state, {\n      payload\n    }) => {\n      state.lobbyId = payload;\n    }\n  }\n});\nexport const {\n  setLobbyId\n} = slice.actions;\nexport default slice.reducer;","map":{"version":3,"sources":["/home/niels/Projects/school/quizzer/client/scoreboard/src/reducers/quiz.js"],"names":["createAsyncThunk","createSlice","axios","initialState","lobbyId","teams","results","fetchTeams","_","getState","quiz","get","process","env","REACT_APP_API_URI","data","fetchCorrectAnswers","fetchResults","_id","score","questionsCorrect","slice","name","extraReducers","fulfilled","state","payload","roundScore","reducers","setLobbyId","actions","reducer"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,OAAO,EAAE,EADU;AAEnBC,EAAAA,KAAK,EAAI,EAFU;AAGnBC,EAAAA,OAAO,EAAE;AAHU,CAArB;AAMA,OAAO,MAAMC,UAAU,GAAGP,gBAAgB,CAAC,2BAAD,EAA8B,OAAOQ,CAAP,EAAU;AAAEC,EAAAA;AAAF,CAAV,KAA2B;AAAA;;AACjG,QAAML,OAAO,gBAAGK,QAAQ,EAAX,8CAAG,UAAYC,IAAZ,CAAiBN,OAAjC;AACA,QAAMC,KAAK,GAAK,MAAMH,KAAK,CAACS,GAAN,CAAW,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,YAAWV,OAAQ,QAA9D,CAAtB;AAEA,SAAOC,KAAK,CAACU,IAAb;AACD,CALyC,CAAnC;AAOP,OAAO,MAAMC,mBAAmB,GAAGhB,gBAAgB,CAAC,oCAAD,EAAuC,OAAOQ,CAAP,EAAU;AAAEC,EAAAA;AAAF,CAAV,KAA2B;AAAA;;AACnH,QAAML,OAAO,iBAAGK,QAAQ,EAAX,+CAAG,WAAYC,IAAZ,CAAiBN,OAAjC;AACA,QAAMC,KAAK,GAAK,MAAMH,KAAK,CAACS,GAAN,CAAW,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,YAAWV,OAAQ,cAA9D,CAAtB;AAEA,SAAOC,KAAK,CAACU,IAAb;AACD,CALkD,CAA5C;AAOP,OAAO,MAAME,YAAY,GAAGjB,gBAAgB,CAAC,6BAAD,EAAgC,OAAOQ,CAAP,EAAU;AAAEC,EAAAA;AAAF,CAAV,KAA2B;AAAA;;AACrG,QAAML,OAAO,iBAAGK,QAAQ,EAAX,+CAAG,WAAYC,IAAZ,CAAiBN,OAAjC;AAEA,SAAO,CACL;AACEc,IAAAA,GAAG,EAAE,UADP;AAEEC,IAAAA,KAAK,EAAE,EAFT;AAGEC,IAAAA,gBAAgB,EAAE;AAHpB,GADK,EAML;AACEF,IAAAA,GAAG,EAAE,WADP;AAEEC,IAAAA,KAAK,EAAE,EAFT;AAGEC,IAAAA,gBAAgB,EAAE;AAHpB,GANK,EAWL;AACEF,IAAAA,GAAG,EAAE,WADP;AAEEC,IAAAA,KAAK,EAAE,EAFT;AAGEC,IAAAA,gBAAgB,EAAE;AAHpB,GAXK,EAgBL;AACEF,IAAAA,GAAG,EAAE,WADP;AAEEC,IAAAA,KAAK,EAAE,EAFT;AAGEC,IAAAA,gBAAgB,EAAE;AAHpB,GAhBK,EAqBL;AACEF,IAAAA,GAAG,EAAE,WADP;AAEEC,IAAAA,KAAK,EAAE,CAFT;AAGEC,IAAAA,gBAAgB,EAAE;AAHpB,GArBK,CAAP;AA2BD,CA9B2C,CAArC;AAgCP,OAAO,MAAMC,KAAK,GAAGpB,WAAW,CAAC;AAC/BqB,EAAAA,IAAI,EAAW,MADgB;AAE/BnB,EAAAA,YAF+B;AAG/BoB,EAAAA,aAAa,EAAE;AACb,KAAChB,UAAU,CAACiB,SAAZ,GAAiC,CAACC,KAAD,EAAQ;AAAEC,MAAAA;AAAF,KAAR,KAAwB;AACvDD,MAAAA,KAAK,CAACpB,KAAN,GAAcqB,OAAd;AACD,KAHY;AAIb,KAACV,mBAAmB,CAACQ,SAArB,GAAiC,CAACC,KAAD,EAAQ;AAAEC,MAAAA;AAAF,KAAR,KAAwB;AACvDD,MAAAA,KAAK,CAACE,UAAN,GAAmBD,OAAnB;AACD,KANY;AAOb,KAACT,YAAY,CAACO,SAAd,GAA0B,CAACC,KAAD,EAAQ;AAAEC,MAAAA;AAAF,KAAR,KAAwB;AAChDD,MAAAA,KAAK,CAACnB,OAAN,GAAgBoB,OAAhB;AACD;AATY,GAHgB;AAc/BE,EAAAA,QAAQ,EAAO;AACbC,IAAAA,UAAU,EAAE,CAACJ,KAAD,EAAQ;AAAEC,MAAAA;AAAF,KAAR,KAAwB;AAClCD,MAAAA,KAAK,CAACrB,OAAN,GAAgBsB,OAAhB;AACD;AAHY;AAdgB,CAAD,CAAzB;AAqBP,OAAO,MAAM;AAAEG,EAAAA;AAAF,IAAiBR,KAAK,CAACS,OAA7B;AAEP,eAAeT,KAAK,CAACU,OAArB","sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst initialState = {\n  lobbyId: '',\n  teams:   [],\n  results: [],\n};\n\nexport const fetchTeams = createAsyncThunk('category/fetchTeamsStatus', async (_, { getState }) => {\n  const lobbyId = getState()?.quiz.lobbyId;\n  const teams   = await axios.get(`${process.env.REACT_APP_API_URI}/lobbies/${lobbyId}/teams`);\n\n  return teams.data;\n});\n\nexport const fetchCorrectAnswers = createAsyncThunk('category/fetchCorrectAnswersStatus', async (_, { getState }) => {\n  const lobbyId = getState()?.quiz.lobbyId;\n  const teams   = await axios.get(`${process.env.REACT_APP_API_URI}/lobbies/${lobbyId}/round-score`);\n\n  return teams.data;\n});\n\nexport const fetchResults = createAsyncThunk('category/fetchResultsStatus', async (_, { getState }) => {\n  const lobbyId = getState()?.quiz.lobbyId;\n\n  return [\n    {\n      _id: 'Team een',\n      score: 24,\n      questionsCorrect: 11,\n    },\n    {\n      _id: 'Team twee',\n      score: 18,\n      questionsCorrect: 7,\n    },\n    {\n      _id: 'Team drie',\n      score: 16,\n      questionsCorrect: 6,\n    },\n    {\n      _id: 'Team vier',\n      score: 13,\n      questionsCorrect: 5,\n    },\n    {\n      _id: 'Team vijf',\n      score: 8,\n      questionsCorrect: 3,\n    },\n  ]\n});\n\nexport const slice = createSlice({\n  name:          'quiz',\n  initialState,\n  extraReducers: {\n    [fetchTeams.fulfilled]:          (state, { payload }) => {\n      state.teams = payload;\n    },\n    [fetchCorrectAnswers.fulfilled]: (state, { payload }) => {\n      state.roundScore = payload;\n    },\n    [fetchResults.fulfilled]: (state, { payload }) => {\n      state.results = payload;\n    }\n  },\n  reducers:      {\n    setLobbyId: (state, { payload }) => {\n      state.lobbyId = payload;\n    }\n  }\n});\n\nexport const { setLobbyId } = slice.actions;\n\nexport default slice.reducer;"]},"metadata":{},"sourceType":"module"}